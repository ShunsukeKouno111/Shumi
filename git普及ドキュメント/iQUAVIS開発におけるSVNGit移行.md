# iQUAVISチームにおけるSVN→Git移行

## 河野が開技に来た目的(1分)
* GitHubの導入
* iQUAVISに依存しない能力をつけて自信をつける
## 移行を行う背景(2分)
### 社内でのGitHubの無料化
Gitのメリットはもともとある程度わかっており、以前にもGitに移行しようという話が上がったが履歴の移行、GitHubが有料であることなどで二の足を踏んでいた。
履歴を保持できることを前提として移行検証を開始。
### 開発者のモチベーション向上を目指して
「iQUAVIS開発では最先端の技術でプログラミング自体を楽しむことを重視している」
新しい技術を取り入れて開発を楽しんでほしい
(いつまでもSVNでの開発だと新しいTPさんが来てくれなくなるのではないか)

## 移行後のゴール(2分)
### iQUAVIS開発の効率化
* PR活用によるコードレビューのみやすさ向上
* ビルドエラーの影響範囲を局所化
### ニアショア化へ向けた一歩目
* 開発の時期に応じてTPさんの人数を調整しやすくする
* Redmine、CIもインターネットに置きたい

## 移行時の懸念(6分)
### 既存システムとの連携
* Redmine
チケットとコミットの結びつけの移行ができるのか
* Jenkins
GitHubからソースを取ってくることができるのか
### 学習コスト
いきなりGitに移行して使えるのか
(コンフリクト等が怖い)

## 懸念の検証結果
### 既存システムとの連携
* Redmine
チケットとコミットの結びつけの移行可能
* Jenkins
GitHub上にあるiQUAVISのプラグインをJenkinsでCIを回すことに成功
iQUAVIS本体は4～5時間かかる想定なのでプッシュ毎に回すのは難しそう
運用案を検討中
### 学習コスト
* いきなり全員に使用してもらうのではなく、一部から使用してもらい、Gitを理解している人を徐々に増やしていく
  →(移行計画のところで詳細説明)

## 移行のために実際に行ったこと(10分)
### 使用ツール
* subgit
  * subgitがやってくれること
    * SVNリポジトリをgitのベアリポジトリに変換
    * SVNユーザーとGitHubユーザーの紐付け
    * ブランチの移行
* iQUAVISリポジトリを移行
  *  なぜかできない
  *  タイムアウト
  プロキシの原因なのでは?
  Azureからプッシュを試みた
  それでもだめ
  1000コミットずつの分割プッシュ
  ようやくできた
### 成果物
* 移行ドキュメント
* 移行一部自動化スクリプト
    * subgitでの移行時にできるログファイル(コミットとリビジョンの情報を持っている)のzipを解凍して指定の場所に配置
    * コミットとリビジョンの紐付け
    * 分割プッシュ 
## iQUAVISチームでのGit移行計画(4分)
### 今期の目標
* Gitに慣れているメンバーを増やす
* iQUAVIS本体のリポジトリ移行時にレビューフローやチケットの運用フローを固める
* 一部プラグインを移行し、開発をGitHubで行う
### 現状
* 一部ユーザーにGitHubアカウントの作成を依頼し、プラグインからリポジトリ移行中
* 石井さん、余部さん、河野でレビューフローやRedmineとの棲み分けを検証中
* Gitクライアントセットアップ方法やコミット、プッシュ方法をまとめたwikiの作成
### 来期
* iQUAVIS4.0開発終了と同時にコアの移行予定

## 所感(5，6分)
### 先端と比べた技術本部
#### いいところ
* 質問がしやすい
* 帰りやすい
* なんとなく怖いとかがない
#### よくないところ
* 朝にいる人が少ない
* 電話に出ない
### 学んだこと
* テストの大切さ
    テストがあることでコードの変更による不安がない
* 英語から逃げない
    技術を追う上で必要不可欠
* 新しい技術を追う姿勢
    とりあえず上野さんのツイッターをフォローした
### 河野の所感
* 同期や年次が近い先輩がいるのはありがたい

目的
河野の成長を伝える(入れきれてない)
iQUAVISチームにどう持ち帰るか伝える
ドキュメント作ってある
スクリプトの使用可能かどうか
